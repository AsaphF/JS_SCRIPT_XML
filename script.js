const xml2js = require('xml2js');

async function processXmlString(xmlString) {
  const parser = new xml2js.Parser();

  try {
    const xmlDoc = await parser.parseStringPromise(xmlString);
    let result = { id: null, file: '' };

    // const tags = ['infCte', 'infNFe', 'infCFe'];
    // if (xmlDoc['nfeProc']['NFe']['infNFe']) {

    // }
    const infCte = xmlDoc['cteProc']['CTe'][0]['infCte'][0];

    // const infNFe  = xmlDoc['nfeProc']['NFe'][0]['infNFe'][0];
    console.log(infCte.$.Id)
    // console.log(infNFe.$.Id)
    // for (let tag of tags) {
    //   // Assuming the structure includes these tags directly under the root
    //   const element = xmlDoc && xmlDoc[tag] && xmlDoc[tag][0] ? xmlDoc[tag][0] : null;
    //   if (element && element.$ && element.$.Id) {
    //     result.id = element.$.Id;
    //     break;
    //   }
    // }

    // if (result.id) {
    //   // If an ID is found, encode the entire XML string as base64
    //   // Note: In real scenarios, you may want to exclude non-XML content or headers
    //   result.file = Buffer.from(xmlString).toString('base64');
    //   return result;
    // } else {
    //   throw new Error("ID not found in XML");
    // } ['infNFe'][0]
  } catch (error) {
    console.error("Error processing XML string:", error);
    throw error; // Rethrow or handle the error as needed
  }
}

// Example usage with your XML string
const content = '<nfeProc versao="4.00" xmlns="http://www.portalfiscal.inf.br/nfe"><NFe xmlns="http://www.portalfiscal.inf.br/nfe"><infNFe versao="4.00" Id="NFe35240373147142000150550010000003251203461844"><ide><cUF>35</cUF><cNF>20346184</cNF><natOp>VENDAS</natOp><mod>55</mod><serie>1</serie><nNF>325</nNF><dhEmi>2024-03-01T13:22:51-03:00</dhEmi><dhSaiEnt>2024-03-01T13:22:51-03:00</dhSaiEnt><tpNF>1</tpNF><idDest>1</idDest><cMunFG>3518800</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>4</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>1</indPres><procEmi>0</procEmi><verProc>CXRAPIDO 1.0</verProc></ide><emit><CNPJ>73147142000150</CNPJ><xNome>UNIVERSAL REFEICOES E PIZZARIA LTDA EPP</xNome><enderEmit><xLgr>RUA BOCA DO ACRE</xLgr><nro>22</nro><xBairro>VILA BARROS</xBairro><cMun>3518800</cMun><xMun>GUARULHOS</xMun><UF>SP</UF><CEP>07192180</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>00001124029090</fone></enderEmit><IE>336374836113</IE><CRT>1</CRT></emit><dest><CNPJ>05497348000150</CNPJ><xNome>TRAIL INFRAESTRUTURA LTDA</xNome><enderDest><xLgr>RUA GUAIANASES</xLgr><nro>1041</nro><xCpl>1o ANDAR</xCpl><xBairro>SANTA CECILIA</xBairro><cMun>3550308</cMun><xMun>SAO PAULO</xMun><UF>SP</UF><CEP>01204003</CEP><cPais>1058</cPais><xPais>BRASIL</xPais></enderDest><indIEDest>9</indIEDest><IE>149952576110</IE></dest><det nItem="1"><prod><cProd>4</cProd><cEAN>SEM GTIN</cEAN><xProd>LANCHES &amp; REFEICOES</xProd><NCM>21069090</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>2816.0000</qCom><vUnCom>27.000000</vUnCom><vProd>76032.00</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>2816.0000</qTrib><vUnTrib>27.00000000</vUnTrib><indTot>1</indTot></prod><imposto><vTotTrib>16867.84</vTotTrib><ICMS><ICMSSN102><orig>0</orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><IPI><cEnq>999</cEnq><IPINT><CST>53</CST></IPINT></IPI><PIS><PISNT><CST>07</CST></PISNT></PIS><COFINS><COFINSNT><CST>07</CST></COFINSNT></COFINS></imposto></det><total><ICMSTot><vBC>0.00</vBC><vICMS>0.00</vICMS><vICMSDeson>0.00</vICMSDeson><vFCPUFDest>0.00</vFCPUFDest><vICMSUFDest>0.00</vICMSUFDest><vICMSUFRemet>0.00</vICMSUFRemet><vFCP>0.00</vFCP><vBCST>0.00</vBCST><vST>0.00</vST><vFCPST>0.00</vFCPST><vFCPSTRet>0.00</vFCPSTRet><vProd>76032.00</vProd><vFrete>0.00</vFrete><vSeg>0.00</vSeg><vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vIPIDevol>0.00</vIPIDevol><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vOutro>0.00</vOutro><vNF>76032.00</vNF><vTotTrib>16867.84</vTotTrib></ICMSTot></total><transp><modFrete>3</modFrete></transp><cobr><fat><nFat>000325/A</nFat><vOrig>76032.00</vOrig><vDesc>0.00</vDesc><vLiq>76032.00</vLiq></fat><dup><nDup>001</nDup><dVenc>2024-03-01</dVenc><vDup>76032.00</vDup></dup></cobr><pag><detPag><tPag>01</tPag><vPag>76032.00</vPag></detPag></pag><infAdic><infCpl>(Valor aproximado 30,75% = 23.379,84 - empresa optante pelo simples nacional - fonte: ibpt). - Valor Aproximado dos Tributos : R$ 3.193,34 Federal e R$ 13.685,76 Estadual - Fonte IBPT/FECOMERCIO SP</infCpl></infAdic></infNFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" /><SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1" /><Reference URI="#NFe35240373147142000150550010000003251203461844"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" /><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" /></Transforms><DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" /><DigestValue>WJx1oSFtfjf+juyLLYNXuLSDnwU=</DigestValue></Reference></SignedInfo><SignatureValue>Z3PCCfMUjAnOT6622oBFreFYZxGBjhUIs5gXxpsVGdcinluea7d3i5MdysqjuVHH/S6G2yx72Ec33NxGnD9yTvT0Q/uMKxikj1/bqdN+3vz8s9koGPoknqjHL/oxUwosYWWF1yTt6i/JW3rYLbX+ZHGV34J3BUe9DwlkRNY/NOzloaF/MvE0VMun8is/wSvoTnU5uamaxtENhBT8g2ryAIUp45kTrF6PpJo8JC36vrzCj1NCoIc0xAPiEOb6bFGxl2/r0y5145BbHWDIC5DAZKekmYmE+sYOkV32IVqDA6p0STFGMCVHwHHGz8sW85uO9cKPA0XDZxtLvzAuqDuPyw==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao="4.00"><infProt Id="Id135240446949298"><tpAmb>1</tpAmb><verAplic>SP_NFE_PL009_V4</verAplic><chNFe>35240373147142000150550010000003251203461844</chNFe><dhRecbto>2024-03-01T13:23:17-03:00</dhRecbto><nProt>135240446949298</nProt><digVal>WJx1oSFtfjf+juyLLYNXuLSDnwU=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>'
const contentCTe = '<cteProc xmlns="http://www.portalfiscal.inf.br/cte" versao="4.00"><CTe xmlns="http://www.portalfiscal.inf.br/cte"><infCte Id="CTe35231236613348000100570010000272217867728166" versao="4.00"><ide><cUF>35</cUF><cCT>86772816</cCT><CFOP>5352</CFOP><natOp>Prestacao de servico de transporte a estabelecimento industr</natOp><mod>57</mod><serie>1</serie><nCT>27221</nCT><dhEmi>2023-12-05T17:12:46-03:00</dhEmi><tpImp>1</tpImp><tpEmis>7</tpEmis><cDV>6</cDV><tpAmb>1</tpAmb><tpCTe>0</tpCTe><procEmi>0</procEmi><verProc>1.0.450</verProc><cMunEnv>3525904</cMunEnv><xMunEnv>JUNDIAI</xMunEnv><UFEnv>SP</UFEnv><modal>01</modal><tpServ>0</tpServ><cMunIni>3556453</cMunIni><xMunIni>VARGEM GRANDE PAULISTA</xMunIni><UFIni>SP</UFIni><cMunFim>3518800</cMunFim><xMunFim>GUARULHOS</xMunFim><UFFim>SP</UFFim><retira>1</retira><indIEToma>1</indIEToma><toma3><toma>0</toma></toma3></ide><compl><xObs>Transporte subcontratado com ADILSON DE OLIVEIRA ALVES, CNPJ/CPF 05455833570, proprietario do veiculo de placa FMD-0F41, UF SP. . ADILSON DE OLIVEIRA ALVES 05455833570 CARGA 588482</xObs><ObsCont xCampo="Lei da Transparencia"><xTexto>O valor aproximado de tributos incidentes sobre o preco deste servico e de R$ 188.22.</xTexto></ObsCont><ObsCont xCampo="RESPSEG"><xTexto>036613348000100</xTexto></ObsCont><ObsCont xCampo="CPFMOTORISTA"><xTexto>05455833570</xTexto></ObsCont><ObsCont xCampo="PLACA"><xTexto>FMD-0F41</xTexto></ObsCont></compl><emit><CNPJ>36613348000100</CNPJ><IE>407757954114</IE><xNome>HTG TRANSPORTE RODOVIARIO DE CARGAS LTDA</xNome><xFant>HTG TRANSPORTE RODOVIARIO DE CARGAS LTDA</xFant><enderEmit><xLgr>R ANGOLA</xLgr><nro>223</nro><xBairro>JARDIM BONFIGLIOLI</xBairro><cMun>3525904</cMun><xMun>JUNDIAI</xMun><CEP>13207350</CEP><UF>SP</UF><fone>11964542597</fone></enderEmit><CRT>3</CRT></emit><rem><CNPJ>19043440000235</CNPJ><IE>720035126118</IE><xNome>NOVA MEGA G ATACADISTA DE ALIMENTOS S A</xNome><xFant>MEGAG FILIAL VGP</xFant><fone>1158534000</fone><enderReme><xLgr>ESTRADA RIBEIRAO DAS LAGES</xLgr><nro>50</nro><xBairro>LAGES</xBairro><cMun>3556453</cMun><xMun>VARGEM GRANDE PAULISTA</xMun><CEP>06730000</CEP><UF>SP</UF><cPais>1058</cPais><xPais>BRASIL</xPais></enderReme></rem><dest><CNPJ>73147142000150</CNPJ><IE>336374836113</IE><xNome>UNIVERSAL REFEICOES E PIZZARIA LTDA EPP</xNome><fone>1124029090</fone><enderDest><xLgr>R BOCA DO ACRE</xLgr><nro>22</nro><xBairro>VILA BARROS</xBairro><cMun>3518800</cMun><xMun>GUARULHOS</xMun><CEP>07192180</CEP><UF>SP</UF><cPais>1058</cPais><xPais>BRASIL</xPais></enderDest></dest><vPrest><vTPrest>1049.73</vTPrest><vRec>1049.73</vRec><Comp><xNome>VALOR FRETE</xNome><vComp>572.98</vComp></Comp><Comp><xNome>NEGOCIACAO</xNome><vComp>200.54</vComp></Comp><Comp><xNome>ADV</xNome><vComp>100.83</vComp></Comp><Comp><xNome>ICMS</xNome><vComp>125.97</vComp></Comp><Comp><xNome>PEDAGIO</xNome><vComp>11.60</vComp></Comp></vPrest><imp><ICMS><ICMS00><CST>00</CST><vBC>1049.73</vBC><pICMS>12.00</pICMS><vICMS>125.97</vICMS></ICMS00></ICMS><vTotTrib>188.22</vTotTrib></imp><infCTeNorm><infCarga><vCarga>25206.54</vCarga><proPred>MUSSARELA (RO)OP TRES MARIAS</proPred><xOutCat>KG1</xOutCat><infQ><cUnid>03</cUnid><tpMed>KG1</tpMed><qCarga>99.0000</qCarga></infQ><infQ><cUnid>01</cUnid><tpMed>PESO BRUTO</tpMed><qCarga>936.0400</qCarga></infQ><vCargaAverb>25206.54</vCargaAverb></infCarga><infDoc><infNFe><chave>35231219043440000235550010038506061303171064</chave></infNFe><infNFe><chave>35231219043440000235550010038506051412101418</chave></infNFe><infNFe><chave>35231219043440000235550010038506041986635639</chave></infNFe><infNFe><chave>35231219043440000235550010038506011361879949</chave></infNFe><infNFe><chave>35231219043440000235550010038506081410268570</chave></infNFe><infNFe><chave>35231219043440000235550010038506021387043144</chave></infNFe><infNFe><chave>35231219043440000235550010038506071897191800</chave></infNFe><infNFe><chave>35231219043440000235550010038506031407682578</chave></infNFe><infNFe><chave>35231219043440000235550010038506091960452487</chave></infNFe></infDoc><infModal versaoModal="4.00"><rodo><RNTRC>52671566</RNTRC></rodo></infModal></infCTeNorm><infRespTec><CNPJ>10885840000132</CNPJ><xContato>Fretebras TMS</xContato><email>atendimento.empresas@fretebras.com.br</email><fone>1141181843</fone></infRespTec></infCte><infCTeSupl><qrCodCTe>https://nfe.fazenda.sp.gov.br/CTeConsulta/qrCode?chCTe=35231236613348000100570010000272217867728166&amp;tpAmb=1</qrCodCTe></infCTeSupl><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/><Reference URI="#CTe35231236613348000100570010000272217867728166"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></Transforms><DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/><DigestValue>c7MGfeYXksg2XARSz3uY+RsTWP4=</DigestValue></Reference></SignedInfo><SignatureValue>cyuJmjvtJJzbhOcMKI5TthxEAXczdggXXQUnEZLcFYILw9JsJrJtQEWYacKhgDCDF7VJ0sAjDYOr1vbkuLbENAnhGzkYGwbghtcN0Th+z+OIomCmHDRb5thUrKYZFuF4uue/Y2lyHcOOpmVx/S5F0g4uCZhZ9by+JUK1YDSieIFBAm1p0qqAUIn6I/1M8dzqOOHt11Fx2SDaqFFPOPkT0cr0igIpug5H9EfmgJL0qCkNcjtG3wa8geeaNfJpwvEC4u0pSpdJRqv1JyBE9oJxp2KosKOBkCmKs2Ul+Xj+Ra+RQRAyQJ+BY/k4r8NlGJMNFfAYla7GSkaTZztt0YWhCw==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CTe><protCTe xmlns="http://www.portalfiscal.inf.br/cte" versao="4.00"><infProt Id="CTe735230012851586"><tpAmb>1</tpAmb><verAplic>RS20231123143344</verAplic><chCTe>35231236613348000100570010000272217867728166</chCTe><dhRecbto>2023-12-05T17:12:50-03:00</dhRecbto><nProt>735230012851586</nProt><digVal>c7MGfeYXksg2XARSz3uY+RsTWP4=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso do CT-e</xMotivo></infProt></protCTe></cteProc>'
processXmlString(contentCTe)